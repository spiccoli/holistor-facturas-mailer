# 🧾 Holistor Invoice Mailer

---

## 📌 Index  
- [🇺🇸 English](#english)  
- [🇦🇷 Español](#espa%C3%B1ol)

---

### 📁 Folder Structure / Estructura de las carpetas
  
📦 Project Root  
├─ enviadormails/  
│   ├─ dist/  
│   │   ├─ enviador.exe # Executable for sending emails  
│   │   └─ .env  
│   └─ enviador.py 
├─ clasificador/  
│   ├─ dist/  
│   │   └─ clasificador.exe # Executable for classifying invoices  
│   └─ clasificador.py 
├─ clientes/ # One folder per client  
│   └─ Client_Name/  
│       ├─ invoice.pdf  # This will be placed automatically depending on its name
│       └─ email.txt # Email address of the client  
├─ facturas_nuevas/ # Where new invoices are added before sorting  
├─ ClasificarPDFs.bat # Used to have a terminal with the script opened
├─ EnviarMails.bat # "" idem
└─ README.md 

---

## 🇺🇸 English

**Holistor Invoice Mailer** is a Python script to automatically email invoices generated by Holistor.  
It scans client folders, validates email addresses, and ensures no invoice is missed.

### How to Use

1. Place invoice PDFs in the `facturas_nuevas/` folder.  
2. Run `clasificador.exe` to organize files into client folders.  
3. Ensure each client folder has a valid `email.txt` file.  
4. Run `enviador.exe`.  
5. Confirm when prompted to send the emails.

### ✅ .env Configuration

A `.env` file must exist in the same folder as `enviador.exe`, with the following content:

```dotenv
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_password_or_app_key
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

Replace `EMAIL_USER` with your sender email.  
Use `EMAIL_PASS` as your email password or app-specific password.  
`SMTP_SERVER` is your email provider’s SMTP (e.g., smtp.gmail.com).  
`SMTP_PORT` should usually be 465 for SSL.

---

## 🇦🇷 Español

**Holistor Invoice Mailer** es un script en Python para enviar automáticamente las facturas generadas por Holistor.  
Escanea las carpetas de los clientes, valida las direcciones de correo y asegura que ninguna factura quede sin enviar.

### Cómo usarlo

1. Coloca los archivos PDF en la carpeta `facturas_nuevas/`.  
2. Ejecuta `clasificador.exe` para organizar los archivos en las carpetas de cada cliente.  
3. Asegúrate de que cada carpeta de cliente tenga un archivo `email.txt` válido.  
4. Ejecuta `enviador.exe`.  
5. Confirma cuando se te solicite para enviar los correos.

### ✅ Configuración del archivo .env

Debe existir un archivo `.env` en la misma carpeta que `enviador.exe`, con el siguiente contenido:

```dotenv
EMAIL_USER=tu_correo@example.com
EMAIL_PASS=tu_contraseña_o_clave_de_aplicación
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

Reemplaza `EMAIL_USER` por tu dirección de correo remitente.  
Usa `EMAIL_PASS` como tu contraseña o clave de aplicación del correo.  
`SMTP_SERVER` corresponde al servidor SMTP de tu proveedor (por ejemplo, smtp.gmail.com).  
`SMTP_PORT` normalmente es 465 para conexiones SSL.
