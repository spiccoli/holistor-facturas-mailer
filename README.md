# 🧾 Holistor Facturas Mailer

---

## 📌 Index  
- [🇺🇸 English](#-english)
- [🇪🇸 Español](#-español)

---

### 📁 Folder Structure | Estructura del Proyecto

| Ruta                         | English                                                | Español                                                |
|-----------------------------|--------------------------------------------------------|--------------------------------------------------------|
| `enviadormails/`            | Folder for the mail sender                             | Carpeta del enviador de correos                        |
| ├── `dist/`                 | Built executables                                      | Ejecutables compilados                                 |
| │   ├── `enviador.exe`      | Executable for sending emails                          | Ejecutable para enviar correos                         |
| │   └── `.env`              | [Create this file](#-env-configuration) with your mail credentials | [Crear este archivo](#-env-configuration) con tus credenciales de correo |
| └── `enviador.py`           | Optional original script                               | Script original opcional                               |
| `clasificador/`             | Folder for the invoice classifier                      | Carpeta del clasificador de facturas                   |
| ├── `dist/`                 | Built executables                                      | Ejecutables compilados                                 |
| │   └── `clasificador.exe`  | Executable for classifying invoices                    | Ejecutable para clasificar facturas                    |
| └── `clasificador.py`       | Optional original script                               | Script original opcional                               |
| `clientes/`                 | One folder per client                                  | Una carpeta por cliente                                |
| └── `Client_Name/`          | Folder for a specific client                           | Carpeta de un cliente específico                       |
|     ├── `invoice.pdf`       | The invoice PDF                                        | La factura en PDF                                      |
|     └── `email.txt`         | Email address of the client                            | Dirección de correo del cliente                        |
| `facturas_nuevas/`          | New invoices before classification                     | Nuevas facturas antes de clasificarlas                 |
| `README.md`                 | This documentation file                                | Este archivo de documentación                          |


---

## 🇺🇸 English

**Holistor Invoice Mailer** is a Python script to automatically email invoices generated by Holistor.  
It scans client folders, validates email addresses, and ensures no invoice is missed.

### How to Use

0. [Create the `.env` file](#-env-configuration) in `enviadormails/dist/` with your email settings.  
1. **Delete all** invoices remaining in the `facturas_nuevas/` folder.  
2. Upload the new invoice PDFs into the `facturas_nuevas/` folder.  
3. Run `ClasificarPDFs.bat` to automatically classify the new invoices into the correct client folders.  
4. Run `EnviarMails.bat` to send the emails to clients with their respective invoices.

### ✅ .env Configuration

A `.env` file must exist in the `enviadormails/dist/` folder, with the following content:

```dotenv
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_password_or_app_key
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

Replace `EMAIL_USER` with your sender email.  
Use `EMAIL_PASS` as your email password or app-specific password.  
`SMTP_SERVER` is your email provider’s SMTP (e.g., smtp.gmail.com).  
`SMTP_PORT` should usually be 465 for SSL.

---

## 🇦🇷 Español

**Holistor Invoice Mailer** es un script en Python para enviar automáticamente las facturas generadas por Holistor.  
Escanea las carpetas de los clientes, valida las direcciones de correo y asegura que ninguna factura quede sin enviar.

### Cómo usarlo

0. [Creá el archivo `.env`](#-configuración-del-archivo-env) en `enviadormails/dist/` con la configuración de correo.  
1. **Eliminá todas** las facturas que hayan quedado en la carpeta `facturas_nuevas/`.  
2. Cargá las nuevas facturas PDF en la carpeta `facturas_nuevas/`.  
3. Ejecutá `ClasificarPDFs.bat` para clasificar automáticamente las facturas en las carpetas correctas.  
4. Ejecutá `EnviarMails.bat` para enviar los correos con las facturas a cada cliente.

### ✅ Configuración del archivo .env

Debe existir un archivo `.env` en la carpeta `enviadormails/dist/`, con el siguiente contenido:

```dotenv
EMAIL_USER=tu_correo@example.com
EMAIL_PASS=tu_contraseña_o_clave_de_aplicación
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

Reemplazá `EMAIL_USER` por tu dirección de correo remitente.  
Usá `EMAIL_PASS` como tu contraseña o clave específica de aplicación.  
`SMTP_SERVER` corresponde al servidor SMTP de tu proveedor (por ejemplo, smtp.gmail.com).  
`SMTP_PORT` normalmente es 465 para conexiones SSL.
