# ğŸ§¾ Holistor Facturas Mailer

---

## ğŸ“Œ Index  
- [ğŸ‡ºğŸ‡¸ English](#-english)
- [ğŸ‡ªğŸ‡¸ EspaÃ±ol](#-espaÃ±ol)

---

### ğŸ“ Folder Structure | Estructura del Proyecto

| Ruta                         | English                                                | EspaÃ±ol                                                |
|-----------------------------|--------------------------------------------------------|--------------------------------------------------------|
| `enviadormails/`            | Folder for the mail sender                             | Carpeta del enviador de correos                        |
| â”œâ”€â”€ `dist/`                 | Built executables                                      | Ejecutables compilados                                 |
| â”‚   â”œâ”€â”€ `enviador.exe`      | Executable for sending emails                          | Ejecutable para enviar correos                         |
| â”‚   â””â”€â”€ `.env`              | [Create this file](#-env-configuration) with your mail credentials | [Crear este archivo](#-env-configuration) con tus credenciales de correo |
| â””â”€â”€ `enviador.py`           | Optional original script                               | Script original opcional                               |
| `clasificador/`             | Folder for the invoice classifier                      | Carpeta del clasificador de facturas                   |
| â”œâ”€â”€ `dist/`                 | Built executables                                      | Ejecutables compilados                                 |
| â”‚   â””â”€â”€ `clasificador.exe`  | Executable for classifying invoices                    | Ejecutable para clasificar facturas                    |
| â””â”€â”€ `clasificador.py`       | Optional original script                               | Script original opcional                               |
| `clientes/`                 | One folder per client                                  | Una carpeta por cliente                                |
| â””â”€â”€ `Client_Name/`          | Folder for a specific client                           | Carpeta de un cliente especÃ­fico                       |
|     â”œâ”€â”€ `invoice.pdf`       | The invoice PDF                                        | La factura en PDF                                      |
|     â””â”€â”€ `email.txt`         | Email address of the client                            | DirecciÃ³n de correo del cliente                        |
| `facturas_nuevas/`          | New invoices before classification                     | Nuevas facturas antes de clasificarlas                 |
| `README.md`                 | This documentation file                                | Este archivo de documentaciÃ³n                          |


---

## ğŸ‡ºğŸ‡¸ English

**Holistor Invoice Mailer** is a Python script to automatically email invoices generated by Holistor.  
It scans client folders, validates email addresses, and ensures no invoice is missed.

### How to Use

0. [Create the `.env` file](#-env-configuration) in `enviadormails/dist/` with your email settings.  
1. **Delete all** invoices remaining in the `facturas_nuevas/` folder.  
2. Upload the new invoice PDFs into the `facturas_nuevas/` folder.  
3. Run `ClasificarPDFs.bat` to automatically classify the new invoices into the correct client folders.  
4. Run `EnviarMails.bat` to send the emails to clients with their respective invoices.

### âœ… .env Configuration

A `.env` file must exist in the `enviadormails/dist/` folder, with the following content:

```dotenv
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_password_or_app_key
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

Replace `EMAIL_USER` with your sender email.  
Use `EMAIL_PASS` as your email password or app-specific password.  
`SMTP_SERVER` is your email providerâ€™s SMTP (e.g., smtp.gmail.com).  
`SMTP_PORT` should usually be 465 for SSL.

---

## ğŸ‡¦ğŸ‡· EspaÃ±ol

**Holistor Invoice Mailer** es un script en Python para enviar automÃ¡ticamente las facturas generadas por Holistor.  
Escanea las carpetas de los clientes, valida las direcciones de correo y asegura que ninguna factura quede sin enviar.

### CÃ³mo usarlo

0. [CreÃ¡ el archivo `.env`](#-configuraciÃ³n-del-archivo-env) en `enviadormails/dist/` con la configuraciÃ³n de correo.  
1. **EliminÃ¡ todas** las facturas que hayan quedado en la carpeta `facturas_nuevas/`.  
2. CargÃ¡ las nuevas facturas PDF en la carpeta `facturas_nuevas/`.  
3. EjecutÃ¡ `ClasificarPDFs.bat` para clasificar automÃ¡ticamente las facturas en las carpetas correctas.  
4. EjecutÃ¡ `EnviarMails.bat` para enviar los correos con las facturas a cada cliente.

### âœ… ConfiguraciÃ³n del archivo .env

Debe existir un archivo `.env` en la carpeta `enviadormails/dist/`, con el siguiente contenido:

```dotenv
EMAIL_USER=tu_correo@example.com
EMAIL_PASS=tu_contraseÃ±a_o_clave_de_aplicaciÃ³n
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
```

ReemplazÃ¡ `EMAIL_USER` por tu direcciÃ³n de correo remitente.  
UsÃ¡ `EMAIL_PASS` como tu contraseÃ±a o clave especÃ­fica de aplicaciÃ³n.  
`SMTP_SERVER` corresponde al servidor SMTP de tu proveedor (por ejemplo, smtp.gmail.com).  
`SMTP_PORT` normalmente es 465 para conexiones SSL.
